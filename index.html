<!DOCTYPE html>
	<head>
		<title>Pseudo v1.1 - Developer version</title>
		<link rel="stylesheet" type="text/css" href="style.css" />
		<meta charset="UTF-8">
	</head>
	<body onload="start();" style="">

		<div class="pop-up_keret" id="pop-up_keret">
			<div class="pop-up" id="pop-up">
				<div class='screen' id='screen'></div>
			</div>
		</div>

		<div style="width:1000px;margin-left:auto;margin-right:auto;padding-top: 20px;">
			<div class="keret" id="keret">
				<div class="header">Pseudo v1.1 - Developer version
				</div>

				<div class="main">
				<!-- Adatszerkezeti táblázat és -->
				<!--   beviteli mező a kódnak   -->
          
					<div id="adatszerk" class="adatszerkDiv">
              
                
                
					<table class="adatszerk" id="adatSzerkTabla">
						<tr>
							<td colspan=5 id="adatszerkCim">
								Adatszerkezeti táblázat:
							</td>
						</tr>
						<tr id="adatszerkOszlopCim">
							<td class="adatszerkCella" style="width:1px;">
								Funkció
							</td>
							<td class="adatszerkCella" style="width:1px;">
								Azonosító
							</td>
							<td class="adatszerkCella" style="width:1px;">
								Típus
							</td>
							<td class="adatszerkCella">
								Jelleg
							</td>
							<td class="torlesTD">
								<img src="pics/delete.png" alt="x" />
							</td>
						</tr>
						<tr style="text-align:center;" id="sor0">
							<td><input type="text" class="funkcioI" id="funk0"  onfocus="adatSzerk.sorKijelol(0,this);" onblur="adatSzerk.sorKijelolSzunt(0);"/></td>
							<td><input type="text" class="azonI" id="azon0"  onfocus="adatSzerk.sorKijelol(0,this);" onblur="adatSzerk.sorKijelolSzunt(0);"/></td>
							<td>
								<select class="tipusI" id="tipus0" onfocus="adatSzerk.sorKijelol(0,this);" onblur="adatSzerk.sorKijelolSzunt(0);">
									<option> </option>
									<option>Egész</option>
									<option>Valós</option>
									<option>Karakter</option>
									<option>Logikai</option>
								</select>
							</td>
							<td>
								<input type="checkbox" id="checkI0" onfocus="adatSzerk.sorKijelol(0,this);" onclick="adatSzerk.sorKijelol(0,this);" onblur="adatSzerk.sorKijelolSzunt(0);"/>I
								<input type="checkbox" id="checkO0" onfocus="adatSzerk.sorKijelol(0,this);" onclick="adatSzerk.sorKijelol(0,this);" onblur="adatSzerk.sorKijelolSzunt(0);" />O
								<input type="checkbox" id="checkM0" onfocus="adatSzerk.sorKijelol(0,this);" onclick="adatSzerk.sorKijelol(0,this);" onblur="adatSzerk.sorKijelolSzunt(0);" />M
							</td>
							<td style="background-color:white">
								<img src="pics/delete.png" alt="x" onclick="adatSzerk.sorEllen(0);" id="torles0" class="torles"/>
							</td>
						</tr>
					</table>
				</div>
				
				<div class="bridgeDiv">
					<table class="bridgeTable">
						<tr><td style="height:15px;border-left: 1px solid #dddddd;border-bottom: 1px solid #ddd;"></td></tr>
						<tr><td style="height:15px;border-right: 1px solid #ddd;"></td></tr>
					</table>
					<br>
				</div>
			
				<div class="codeDiv">
					<table class="codeTable">
						<tr>
							<td style="background-color:#cfcfcf;width:48px;">
								<textarea readonly="" onscroll="codeBox.scrolling(document.getElementById('codeCode'));"
									wrap="soft" id="codeRowIds">1.
								</textarea>
							</td>
							<td>
								<textarea id="codeCode" class="codeCode" onscroll="codeBox.scrolling(this);" wrap="off" ></textarea>
							</td>
						</tr>
						<tr>
							<td colspan=2 style="text-align:left">
								<input value="Futtatás" type="submit" onclick="PseudoRun();"/>
							</td>
						</tr>
					</table>
				</div>
		
			</div>
	
			<div class="footer" id="footer">
				<div style="float:left;"><div style="float:left;margin-right:5px;">Created by Edem</div><img src="pics/mail.png" alt="mail"/></div>
				
				<div style="float:right;" onclick="StartUnitTest();"><a href="#">Unit Test</a></div>
				<div style="float:right;margin-right:10px;"><a href="https://github.com/Edem013/Pseudo11.git" target="_blank">Git repo</a></div>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="Master.js"></script>
	<script type="text/javascript" src="VM/CPU.js"></script>
	<script type="text/javascript" src="VM/MEM.js"></script>
	<script type="text/javascript" src="VM/COM.js"></script>
	<script type="text/javascript" src="VM/Compiler/SCANNER.js"></script>
	<script type="text/javascript" src="VM/Compiler/PARSER.js"></script>
	<script type="text/javascript" src="VM/Compiler/CODEGEN.js"></script>
	
	<script type="text/javascript" src="jsunity-0.6.js"></script>
	<script type="text/javascript" src="Master_ut.js"></script>
	<script type="text/javascript" src="VM/CPU_ut.js"></script>
	<script type="text/javascript" src="VM/MEM_ut.js"></script>
	<script type="text/javascript" src="VM/COM_ut.js"></script>
	<script type="text/javascript" src="VM/Compiler/SCANNER_ut.js"></script>
	<script type="text/javascript" src="VM/Compiler/PARSER_ut.js"></script>
	<script type="text/javascript" src="VM/Compiler/CODEGEN_ut.js"></script>
	<script type="text/javascript" src="USERF.js"></script>
	<script>
	
		// Method for writing data on the screen
		function AddToScreen(e)
		{
			document.getElementById('screen').innerHTML += e;
		}
	
		// Initialize the application
		function start()
		{
			// Setup UI
			codeBox.codeUrit();
			codeBox.sorSzamNovel();
			document.getElementById("adatszerkCim").style.backgroundImage = "none";
			
			// create a new instance
			Pseudo.Options.Log.DisableAll();
			myApp = Pseudo.Init(AddToScreen);
		}
		
		// Run the specified code
		function PseudoRun(){
			try{
				adatSzerk.sorEllen();
				myApp.ClearVariables();
				for( var i=0; i<adatSzerk.sorokSzama; i++){
					var type = "";
					switch(adatSzerk.sorok[i].tipus)
					{
						case 1: type = "Integer"; break;
						case 2: type = "Float"; break;
						case 3: type = "Char"; break;
						case 4: type = "Boolean"; break;
						default: throw { message: "Ismeretlen változó típus: " + adatSzerk.sorok[i].tipus };
					}
					myApp.AddVariable(adatSzerk.sorok[i].azon, adatSzerk.sorok[i].funkcio, type, {i: false, m:true, o: false});
				}
				document.getElementById('screen').innerHTML = "";
				Screen.showScreen();
				document.getElementById("screen").setAttribute("onclick","Screen.hideScreen();");
				myApp.Run(document.getElementById('codeCode').value, '');
			}catch(e){
				alert(e.message != undefined ? e.message : e);
			}
		}
		
		function StartUnitTest(){
			myApp && Pseudo.StartUnitTest && Pseudo.StartUnitTest();
		}
	</script>
</body>
</html>